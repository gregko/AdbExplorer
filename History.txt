ADB Explorer - Version History
==============================

Version 1.3.1 - 2025-11-01
---------------------------
- Fixed Ctrl+C keyboard shortcut not working:
  * Updated focus detection to check both IsFocused and IsKeyboardFocusWithin
  * Also fixed Ctrl+V and Shift+Insert shortcuts for consistency
- Fixed duplicate Root(/) entries appearing in directory tree:
  * Added guard flag to prevent concurrent execution of LoadRootFolders()
  * Eliminated race condition that could cause multiple root nodes
- Added path segment navigation feature:
  * Double-clicking on path segments in the Path textbox now navigates to that directory
  * Example: In "/sdcard/Android/data", double-click "Android" to go to "/sdcard/Android"
  * Navigation history (Back/Forward buttons) works with this feature

Version 1.3.0 - 2025-10-31
---------------------------
- Added progress panel for batch file operations.
- Fixed double-click functionality for files and folders:
  * Double-clicking now works correctly even when multiple files are selected
  * Selection preservation logic now only applies to single clicks, not double-clicks
- Added paste support from Windows Explorer:
  * Files copied in Windows Explorer can now be pasted into ADB Explorer
  * Added support via Ctrl+V keyboard shortcut
  * Added support via Shift+Insert keyboard shortcut
  * Added support via right-click context menu → Paste
  * Uses same file transfer logic as drag-and-drop for consistency
- Fixed keyboard shortcuts becoming unresponsive:
  * Keyboard shortcuts (Ctrl+V, Ctrl+A, Shift+Insert, etc.) now continue working after closing progress panel
  * Focus is automatically restored to file list when progress panel is dismissed
- Fixed progress panel issues with multiple operations:
  * Progress panel Close button now works reliably even when starting new operations without dismissing previous panel
  * Progress panel is now properly reused for subsequent operations instead of creating duplicate overlays
  * Eliminated stacking of multiple progress panels that prevented interaction

Version 1.2.9 - 2025-10-13
---------------------------
- Fixed device combo box not updating when devices connect/disconnect:
  * Device list now automatically refreshes when Android devices are connected or disconnected
  * Fixed device tracking to properly detect adb track-devices protocol length prefixes
  * Removed incorrect Items.Refresh() call that interfered with ObservableCollection binding
  * Device combo box now correctly updates in real-time without manual refresh

Version 1.2.8 - 2025-09-15
---------------------------
- Fixed drag and drop functionality:
  * Added drag and drop support for TreeView (left panel) - files can now be dragged from right panel to folders in left panel
  * Fixed clipboard copy/paste operations that were not working due to serialization issues
  * Made FileItem class serializable to properly store data on clipboard
  * Improved paste operation with user confirmation dialog and proper error handling
  * Copy/Paste now works reliably within ADB Explorer using same logic as drag and drop

Version 1.2.7 - 2025-09-04
---------------------------
- Fixed duplicate file overwrite prompts during drag & drop:
  * Overwrite confirmation dialog now appears only once instead of twice
  * Fixed event bubbling issue between ListView and Window drop handlers
- Improved overwrite dialog visibility and positioning:
  * AdbExplorer window is now brought to foreground when overwrite prompt appears
  * Overwrite dialog is centered on AdbExplorer window instead of screen center
  * Prevents hidden dialogs when AdbExplorer is behind other windows

Version 1.2.6 - 2025-09-03
---------------------------
- Improved file name sorting with natural number ordering:
  * Files are now sorted naturally (Chapter1, Chapter2, Chapter11 instead of Chapter1, Chapter11, Chapter2)
  * Applied to both file list view and folder tree navigation
  * Handles mixed alphanumeric file names correctly
- Added file overwrite confirmation for drag & drop operations:
  * Shows confirmation dialog when dropping files that already exist in target directory
  * Lists which files would be overwritten with option to cancel
  * Supports both single and multiple file conflicts
  * Prevents accidental file overwrites during drag & drop

Version 1.2.5 - 2025-08-25
---------------------------
- Fixed file deletion for files with special characters (Unicode/Chinese):
  * Files with Chinese characters and other Unicode names can now be deleted successfully
  * Improved handling of problematic filenames by using hex encoding for shell commands
  * Falls back to rename-then-delete strategy when direct deletion fails

Version 1.2.4 - 2025-08-24
---------------------------
- Fixed drag & drop error when dragging files from Windows desktop:
  * Resolved "Invalid lindex" error that occurred with regular file drops
  * Reordered format checks to prioritize regular files over virtual Outlook files
  * Files from Windows Explorer now correctly handled without COM errors

Version 1.2.3 - 2025-08-24
---------------------------
- Added support for drag & drop from Microsoft Outlook:
  * Files can now be dragged directly from Outlook messages to the app window
  * Handles Outlook's special virtual file formats (FileGroupDescriptor/FileContents)
  * Supports both Unicode and ANSI file descriptors
  * Processes multiple attachments in a single drag operation
  * No longer requires saving attachments to desktop first

Version 1.2.2 - 2025-08-20
---------------------------
- Fixed file permissions for transferred files:
  * Files created via drag & drop now get permissions -rw-rw---- (660)
  * Directories created get permissions drwxrwx--- (770)
  * Applied to all file operations: drag from Windows, internal copy/paste, and directory uploads
  * Matches permissions used by Android apps like @Voice
- Fixed file upload reliability issues:
  * Resolved timing conflicts when uploading multiple files
  * Files now upload completely (previously could be truncated)
  * Improved error handling to ignore non-critical ADB warnings (e.g., fchown failed)
  * Batched permission setting to avoid interrupting file transfers

Version 1.2.1 - 2025-08-19
---------------------------
- Changed delete confirmation dialogs to default to "Yes" instead of "No"

Version 1.2.0 - 2025-08-13
---------------------------
- Added GitHub repository link to About dialog
- Fixed About dialog layout - GitHub link no longer cut off
- Improved notification system:
  * Replaced intrusive MessageBox dialogs with status line notifications
  * Added color-coded notifications: blue for success, red for errors
  * Notifications auto-dismiss after 3 seconds
  * Applied to favorites operations (add, remove, rename, already exists)
- Simplified favorites removal - no longer requires confirmation dialog
- Updated installer to display version number on welcome screen
- Created CLAUDE.md file with project build information

Version 1.1.0 - 2025-08-12 (using Claude Code from now on)
---------------------------
- Added About dialog with application name and version information
- Added Favorites/Bookmarks feature:
  * ComboBox dropdown for quick navigation to bookmarked directories
  * Add current folder to favorites with ⭐+ button
  * Remove selected favorite with ⭐- button
  * Right-click context menu to add folders to favorites
  * Edit favorite names via right-click context menu
  * Smart naming for generic folder names (shows parent context)
  * Persistent storage of favorites between sessions
  * Auto-sync folder tree when navigating to favorites
- Added Rename functionality:
  * F2 keyboard shortcut to rename files/folders
  * Context menu option for renaming in file list
  * Context menu option for renaming in folder tree
- Fixed InputDialog button layout issues
- Improved user interface polish and usability

Version 1.0.0 - 2025-08-12
---------------------------
- Initial release
- Basic ADB file explorer functionality
- Browse Android device filesystem
- Navigate folders with tree view and list view
- Copy files between device and Windows
- Delete files and folders
- Create new folders
- Drag and drop support
- File properties viewer
- Multi-window support
- Search and navigation history